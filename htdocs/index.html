<!doctype html>
<html lang="en">
	<head>
		<title>
			These Images Are Makin' Me Surly!
		</title>
		<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/yadayada.css">
		<script>
			var link = document.createElement("link");
			link.rel = "stylesheet";
			link.type = "text/css";
			link.href = window.location.search.match( /print-pdf/gi ) ? "css/print/pdf.css" : "css/print/paper.css";
			document.getElementsByTagName("head")[0].appendChild(link);
		</script>
	</head>
	<body class="these-images-are-making-me-surly">
		<div class="reveal">
			<!-- Table of Contents
				[0.0] Title Card
				[1.0] The Truth or: Image Quality is Subjective
				[2.0] The Foundation or: Starting Off Right
				[3.0] The Fix-up or: Keeping it Lean with Optimizers
				[4.0] The Yada Yada or: The Miscellany
				[5.0] The End
			-->
			<div class="slides">
				<!-- [0.0] Title Card -->
				<section>
					<img src="img/title-card.svg" alt="These Images Are Making Me Surly!" title="These Images Are Making Me Surly!" class="title-card">
					<h5>twitter: <a href="https://twitter.com/malchata" target="_blank" rel="noopener">@malchata</a>&nbsp;&nbsp;|&nbsp;&nbsp;Blog: <a href="https://jeremywagner.me" target="_blank" rel="noopener">jeremywagner.me</a></h5>
				</section>
				<!-- [1.0] The Truth or: Image Quality is Subjective -->
				<section>
					<!-- [1.1] Title Card -->
					<section>
						<img src="/img/jerry.svg" class="title-card" alt="The Truth or: Image Quality is Subjective" title="The Truth or: Image Quality is Subjective">
					</section>
					<!-- [1.2] The Web is Image Hell -->
					<section>
						<h3>The web is</h3>
						<h1>Image hell</h1>
					</section>
					<!-- [1.3] Image Sizes over Time -->
					<section>
						<h4>Average image payload over time (MB)</h4>
						<img src="/img/image-sizes.svg" alt="Image sizes over time" title="Image sizes over time">
						<p>Source: <a href="http://httparchive.org">HTTP Archive</a></p>
					</section>
					<!-- [1.4] We're Obsessed With Image Quality -->
					<section>
						<h3>We're</h3>
						<h1>OBSESSED</h1>
						<h4>With image quality</h4>
					</section>
					<!-- [1.5] Behold: The Power of the Reference Image -->
					<section>
						<h2>Behold!</h2>
						<h4>the power of the reference image:</h4>
						<div class="flex-image-container">
							<div>
								<img data-fragment-index="1" src="/img/junior-mints-png8-192-color.png" alt="They're very refreshing!" title="They're very refreshing!" class="fragment big">
								<p data-fragment-index="3" class="fragment">
									8-bit PNG (192 colors)<br>
									27.54 KB<br>
								</p>
							</div>
							<div>
								<img data-fragment-index="2" src="/img/junior-mints-png24.png" alt="They're very refreshing!" title="They're very refreshing!" class="fragment big">
								<p data-fragment-index="4" class="fragment">
									Full Color PNG<br>
									90.72 KB<br>
								</p>
							</div>
						</div>
					</section>
					<!-- [1.6] Who's Got Reference? -->
					<section>
						<h2>Designers and Developers</h2>
						<h4>Have references for image quality</h4>
						<h1 class="fragment">Users don't!</h1>
					</section>
					<!-- [1.7] A JPEG Test Case -->
					<section>
						<h2>Belaboring the point</h2>
						<h4>(But this time with JPEGs!)</h4>
						<div class="flex-image-container">
							<div>
								<img data-fragment-index="1" src="/img/cafe-quality-40.jpg" alt="I'll have a big salad." title="I'll have a big salad." class="fragment big">
								<p data-fragment-index="3" class="fragment">
									Quality Level 40<br>
									25.39 KB<br>
								</p>
							</div>
							<div>
								<img data-fragment-index="2" src="/img/cafe-quality-100.jpg" alt="We don't have a big salad." title="We don't have a big salad." class="fragment big">
								<p data-fragment-index="4" class="fragment">
									Quality Level 100<br>
									129.66 KB<br>
								</p>
							</div>
						</div>
					</section>
					<!-- [1.8] Factors in Subjectivity -->
					<section>
						<h2>Factors for subjectivity</h2>
						<p class="fragment">Image content</p>
						<p class="fragment">Viewing distance</p>
						<p class="fragment">Screen size</p>
						<p class="fragment">Screen resolution and pixel density</p>
						<p class="fragment">Physical limitations</p>
					</section>
				</section>
				<!-- [2.0] The Foundation or: Starting Off Right -->
				<section>
					<!-- [2.1] Title Card -->
					<section>
						<img src="/img/kramer.svg" class="title-card" alt="The Foundation or: Starting Off Right" title="The Foundation or: Starting Off Right">
					</section>
					<!-- [2.2] Use The Right Format! -->
					<section>
						<h3>Step one:</h3>
						<h1>Use the right format!</h1>
					</section>
					<!-- [2.3] A Case Study in Improper Format Choices -->
					<section>
						<h4>The wrong format can cost you:</h4>
						<div class="flex-image-container">
							<div>
								<img src="/img/cafe-quality-40.jpg" alt="Bawdy George" title="Bawdy George" class="big">
								<p class="fragment">
									JPEG (Quality 40)<br>
									25.39 KB<br>
								</p>
							</div>
							<div>
								<img src="/img/cafe-png24.png" alt="Liar George" title="Liar George" class="big">
								<p class="fragment">
									Full Color PNG<br>
									206.98 KB<br>
								</p>
							</div>
						</div>
					</section>
					<!-- [2.4] A Simple Flow Chart -->
					<section>
						<h4>One way to choose an image format:</h4>
						<img src="/img/flowchart.svg" alt="Image Format Choice Flowchart" title="Image Format Choice Flowchart">
					</section>
					<!-- [2.5] For Lossy Images -->
					<section>
						<h3>Step two:</h3>
						<h4>For lossy images...</h4>
						<h1 class="fragment">Reign in quality!</h1>
					</section>
					<!-- [2.6] The Golden Rule for Lossy Images -->
					<section>
						<h1>The ðŸ’© + 10 Rule</h1>
						<h4>(It's gold!)</h4>
					</section>
					<!-- [2.7] Directions -->
					<section>
						<h1>Directions:</h1>
						<p data-fragment-index="1" class="fragment">1. Begin adjusting quality towards 0</p>
						<p data-fragment-index="2" class="fragment">2. Stop when image appears as if rubbed with greasy deli ham</p>
						<p data-fragment-index="3" class="fragment">3. Adjust by 10<span class="yellow">*</span> away from 0</p>
						<p data-fragment-index="4" class="fragment">4. Get on with your life</p>
						<h6 data-fragment-index="3" class="fragment">*Your experience may vary</h6>
					</section>
					<!-- [2.8] For Lossless Images -->
					<section>
						<h3>Step three:</h3>
						<h4>For lossless images...</h4>
						<h1 class="fragment">Quantize!</h1>
					</section>
					<!-- [2.9] Quantization in Theory -->
					<section>
						<h2>Quantization in Theory</h2>
						<img src="/img/quantize-theory.png" alt="Quantization in Theory" title="Quantization in Theory">
					</section>
					<!-- [2.10] Quantization in Practice -->
					<section>
						<h4>Quantization in Practice</h4>
						<div class="flex-image-container">
							<div>
								<img src="/img/jiffy-park-png-128.png" alt="Jiffy Park" title="Jiffy Park" class="big">
								<p class="fragment">
									8-bit PNG (128 colors)<br>
									25.93 KB<br>
								</p>
							</div>
							<div>
								<img src="/img/jiffy-park-png24.png" alt="Jiffy Park" title="Jiffy Park" class="big">
								<p class="fragment">
									Full Color PNG<br>
									81.7 KB<br>
								</p>
							</div>
						</div>
					</section>
					<!-- [2.11] Simplify Vector Artwork -->
					<section>
						<h3>Step four:</h3>
						<h1>Simplify vector artwork!</h1>
					</section>
					<!-- [2.12] Simplifying in Illustrator -->
					<section>
						<video autoplay loop muted preload>
							<source src="/video/simplify.webm" type="video/webm">
						</video>
					</section>
					<!-- [2.13] Simplification Output -->
					<section>
						<h2>Simplifying works!</h2>
						<div class="fragment">
							<p>Before simplification (184 bytes):</p>
							<pre><code class="svg">&lt;path class=&quot;st0&quot; d=&quot;M6.7,0.1C2.5,10.3,1.1,24.7,1.1,24.7s-2,22.1-0.3,33.1c0,0,3.1,22.1,16,27.3s25.7,2.3,29.4,0.6 s16.2-10.4,19.1-20.2c2.8-9.8,1.8-21.7,0.9-29.7c0,0-2.1-23.1-9.5-35.8&quot;/&gt;</code></pre>
						</div>
						<div class="fragment">
							<p>After simplification (109 bytes):</p>
							<pre><code class="svg">&lt;path class=&quot;st0&quot; d=&quot;M7.8,0.1C-1.7,23.4-8,80.5,25.1,87.2c22,4.5,41.7-10.1,43-32.7c1-17-1.6-39.6-10.3-54.5&quot;/&gt;</code></pre>
						</div>
						<h4 class="fragment"><u>~40%</u> decrease in code</h4>
					</section>
					<!-- [2.14] Compress SVGs on The Server -->
					<section>
						<h3>Step five:</h3>
						<h2>gzip your</h2>
						<h1>SVGs</h1>
						<h4 class="fragment">(And brotli if you can!)</h4>
					</section>
					<!-- [2.15] SVG Compression Works -->
					<section>
						<h2>SVG Compression Works</h2>
						<img src="/img/compression-ratios.svg" alt="SVG Compression Ratios" title="SVG Compression Ratios">
					</section>
					<!-- [2.16] Mind Your Sizes -->
					<section>
						<h3>Step six:</h3>
						<h1>Mind your</h1>
						<h1>image sizes!</h1>
					</section>
					<!-- [2.17] Oversized Images are a Huge Problem -->
					<section>
						<h3>Got oversized images?</h3>
						<img class="big" src="/img/oversized-image.jpg" alt="Big images, big problems" title="Big images, big problems">
						<h3>You've got big problems!</h3>
					</section>
					<!-- [2.18] Don't Force Giant Images on All Users -->
					<section>
						<h1>Respect users!</h1>
						<h3>Don't make everyone download giant images!</h3>
					</section>
					<!-- [2.19] srcset and/or sizes -->
					<section>
						<h2>Use <code>srcset</code>:</h2>
						<pre><code class="html">&lt;img src=&quot;small.jpg&quot;
     srcset=&quot;small.jpg 384w,
             medium.jpg 768w,
             large.jpg 1152w&quot;
     alt=&quot;Descriptive alt text!&quot;&gt;</code></pre>
			 			<h4>In <code>&lt;picture&gt;</code> flavor:</h4>
						<pre><code class="html">&lt;picture&gt;
    &lt;source srcset=&quot;small.webp 384w,
                    medium.webp 768w,
                    large.webp 1152&quot;
            type=&quot;image/webp&quot;&gt;
    &lt;source srcset=&quot;small.jpg 384w,
                    medium.jpg 768w,
                    large.jpg 1152&quot;
            type=&quot;image/jpeg&quot;&gt;
    &lt;img src=&quot;small.jpg&quot; alt=&quot;Descriptive alt text!&quot;&gt;
&lt;/picture&gt;</code></pre>
					</section>
				</section>
				<!-- [3.0] The Fix-up or: Keeping it Lean with Optimizers -->
				<section>
					<!-- [3.1] Title Card -->
					<section>
						<h3>[INSERT TITLE CARD IMAGE]</h3>
					</section>
					<!-- [3.2] JPEG Optimizers -->
					<section>
						<h1>JPEG Optimizers</h1>
						<h4 class="fragment">(There's a lot of them)</h4>
					</section>
					<!-- [3.3] JPEG Optimizer Shootout -->
					<section>
						<h3>JPEG Optimizer Shootout*</h3>
						<table>
							<thead>
								<tr>
									<td>Optimizer</td>
									<td>Time</td>
									<td>Size (KB)</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>(Source image)</td>
									<td>n/a</td>
									<td>1,998.50</td>
								</tr>
								<tr>
									<td>guetzli<span class="yellow">**</span></td>
									<td><span class="red">6m 32.62s</span></td>
									<td>776.49</td>
								</tr>
								<tr>
									<td>jpeg-recompress</td>
									<td>0m 12.74s</td>
									<td><span class="yellow">742.85</span></td>
								</tr>
								<tr>
									<td>jpegoptim</td>
									<td>0m&nbsp;&nbsp;0.37s</td>
									<td>908.50</td>
								</tr>
								<tr>
									<td>mozjpeg (3.2)</td>
									<td>0m&nbsp;&nbsp;0.37s</td>
									<td>908.44</td>
								</tr>
							</tbody>
						</table>
						<div class="fragment">
							<h6>*Target/export quality is 84 due to Guetzli limitations</h6>
							<h6>**Can only encode baseline JPEGs</h6>
						</div>
					</section>
					<!-- [3.4] Thoughts on JPEG Optimizers -->
					<section>
						<h3>Which JPEG optimizer is best?</h3>
						<p class="fragment" data-fragment-index="1">When quality is paramount</p>
						<h4 class="fragment" class="fragment" data-fragment-index="1">Use Guetzli</h4>
						<p class="fragment" data-fragment-index="2">When configurability is desired</p>
						<h4 class="fragment" data-fragment-index="2">Use jpeg-recompress</h4>
						<p class="fragment" data-fragment-index="3">For everything else</p>
						<h4 class="fragment" data-fragment-index="3">There's mozjpeg</h4>
					</section>
					<!-- [3.5] JPEG Optimizers -->
					<section>
						<h1>PNG Optimizers</h1>
						<h4 class="fragment">(There's also a lot of them)</h4>
					</section>
					<!-- [3.6] PNG Optimizer Shootout -->
					<section>
						<h3>PNG Optimizer Shootout</h3>
						<table>
							<thead>
								<tr>
									<td>Optimizer</td>
									<td>Time</td>
									<td>Size (KB)</td>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>(Source image)</td>
									<td>n/a</td>
									<td>484.00</td>
								</tr>
								<tr>
									<td>optipng</td>
									<td>0m 54.034s</td>
									<td>474.03</td>
								</tr>
								<tr>
									<td>pngcrush</td>
									<td>0m 13.793s</td>
									<td>473.59</td>
								</tr>
								<tr>
									<td>pngquant<span>*</span></td>
									<td>0m&nbsp;&nbsp;0.486s</td>
									<td>150.72</td>
								</tr>
								<tr>
									<td>pngnq<span>*</span></td>
									<td>0m 2.336s</td>
									<td>149.49</td>
								</tr>
							</tbody>
						</table>
						<div class="fragment">
							*Quantizing optimization (256 colors)
						</div>
					</section>
				</section>
				<!-- [4.0] The Yada Yada or: The Miscellany -->
				<section>
					<!-- [4.1] Title Card -->
					<section>
						<img src="/img/newman.svg" class="title-card" alt="The Yada Yada or: The Miscellany" title="The Yada Yada or: The Miscellany">
					</section>
					<!-- [4.2] WebP is for Performance -->
					<section>
						<h1>WebP</h1>
						<h3>is for performance!</h3>
					</section>
					<!-- [4.3] WebP Advantages -->
					<section>
						<h2>Advantages of WebP</h2>
						<p class="fragment">Offers lower file sizes at reasonable quality</p>
						<p class="fragment">Available with both lossless and lossy compression modes</p>
						<p class="fragment">Capable of full transparency (even with lossy compression)</p>
						<p class="fragment">Widely supported (Blink-based browsers)</p>
						<p class="fragment">Can be animated!</p>
					</section>
					<!-- [4.4] WebP Disadvantages -->
					<section>
						<h2>Disavantages of WebP</h2>
						<p class="fragment">Not supported in all browsers</p>
						<p class="fragment">Extra effort to maintain WebP assets in parallel with established formats</p>
						<p class="fragment">Image artifacts can be quite noticeable</p>
						<p class="fragment">Decode time is slower than established formats</p>
					</section>
					<!-- [4.5] Lossy WebP in Action -->
					<section>
						<h3>Lossy WebP</h3>
						<div class="flex-image-container">
							<div>
								<img src="/img/cafe-quality-40.jpg" alt="A george divided against itself" title="A george divided against itself" class="big">
								<p class="fragment">
									JPEG (Quality 40)<br>
									25.93 KB<br>
								</p>
							</div>
							<div>
								<img src="/img/cafe-quality-65.webp" alt="Cannot stand!" title="Cannot stand!" class="big">
								<p class="fragment">
									Lossy WebP (Quality 65)<br>
									16.59 KB<br>
								</p>
							</div>
						</div>
						<h4 class="fragment"><u>36%</u> reduction in file size</h4>
					</section>
					<!-- [4.6] Lossless WebP in Action -->
					<section>
						<h3>Lossless WebP</h3>
						<div class="flex-image-container">
							<div>
								<img src="/img/jiffy-park-png-128.png" alt="Jiffy Park" title="Jiffy Park" class="big">
								<p class="fragment">
									8-bit PNG (128 colors)<br>
									25.93 KB<br>
								</p>
							</div>
							<div>
								<img src="/img/jiffy-park-lossless.webp" alt="Jiffy Park" title="Jiffy Park" class="big">
								<p class="fragment">
									Lossless WebP<br>
									23.21 KB<br>
								</p>
							</div>
						</div>
						<h4 class="fragment"><u>11%</u> reduction in file size</h4>
					</section>
					<!-- [4.7] CSS Techniques -->
					<section>
						<h4>Don't export more images...</h4>
						<h1>Use CSS Effects!</h1>
					</section>
					<!-- [4.8] CSS Filters Example -->
					<section>
					</section>
				</section>
				<!-- [5.0] The End -->
			</div>
		</div>
		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>
		<script>
			Reveal.initialize({
				history: true,
				controls: false,
				transition: "fade",
				progress: false,
				help: false,
				dependencies: [
					{
						src: "plugin/notes/notes.js",
						async: true
					},
					{
						src: "plugin/highlight/highlight.js",
						async: true,
						callback: function(){
							hljs.initHighlightingOnLoad();
						}
					}
				]
			});
		</script>
	</body>
</html>
